server {
  listen 8080;
  root /srv/www/static;
  location / {
    # We try to get static files from nginx first
    # because node is not great at IO operations
    try_files $uri $uri/ @pet-porta/dist;
  }
  location @dist{ # search for pet-porta application
    proxy_pass http://localhost:3001/
  }
  location /about { # requests for About page 
    proxy_pass http://localhost:8080/about;
  }
  location / { # requests for index files
    proxy_pass http://localhost:8080/;
  }
  location /login { # requests for login page
    proxy_pass http://localhost:3000/login;
  }
  location /register-admin{ # requests for su
    proxy_pass http://localhost:3000/register-admin
  }
  location /login { # requests for login page
    proxy_pass http://localhost:3000/login;
  }
  location /dashboard { # requests for dashboard with auth only
    proxy_pass http://localhost:3000/dashboard;
  }
}
